"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const vitest_1 = require("vitest");
const nitro_verify_1 = require("./nitro_verify");
const base64_1 = require("../../formats/base64");
const cbor_1 = require("./cbor");
(0, vitest_1.describe)('nitro_verify', () => {
    (0, vitest_1.beforeEach)(() => {
        vitest_1.vi.useFakeTimers();
        vitest_1.vi.setSystemTime(1745540050000);
    });
    (0, vitest_1.afterEach)(() => {
        vitest_1.vi.useRealTimers();
    });
    (0, vitest_1.it)('should verify the nitro signature', async () => {
        const chain = [
            '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'
        ].map((v) => (0, base64_1.decodeBase64)(v));
        await (0, nitro_verify_1.verifyNitroChain)(chain);
    });
    (0, vitest_1.it)('should crash on invalid root', async () => {
        const chain = [
            // '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'
        ].map((v) => (0, base64_1.decodeBase64)(v));
        await (0, vitest_1.expect)((0, nitro_verify_1.verifyNitroChain)(chain)).rejects.toThrow();
    });
    (0, vitest_1.it)('should crash on invalid chain', async () => {
        const chain = [
            'MIICETCCAZagAwIBAgIRAPkxdWgbkK/hHUbMtOTn+FYwCgYIKoZIzj0EAwMwSTELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkFtYXpvbjEMMAoGA1UECwwDQVdTMRswGQYDVQQDDBJhd3Mubml0cm8tZW5jbGF2ZXMwHhcNMTkxMDI4MTMyODA1WhcNNDkxMDI4MTQyODA1WjBJMQswCQYDVQQGEwJVUzEPMA0GA1UECgwGQW1hem9uMQwwCgYDVQQLDANBV1MxGzAZBgNVBAMMEmF3cy5uaXRyby1lbmNsYXZlczB2MBAGByqGSM49AgEGBSuBBAAiA2IABPwCVOumCMHzaHDimtqQvkY4MpJzbolL//Zy2YlES1BR5TSksfbb48C8WBoyt7F2Bw7eEtaaP+ohG2bnUs990d0JX28TcPQXCEPZ3BABIeTPYwEoCWZEh8l5YoQwTcU/9KNCMEAwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUkCW1DdkFR+eWw5b6cp3PmanfS5YwDgYDVR0PAQH/BAQDAgGGMAoGCCqGSM49BAMDA2kAMGYCMQCjfy+Rocm9Xue4YnwWmNJVA44fA0P5W2OpYow9OYCVRaEevL8uO1XYru5xtMPWrfMCMQCi85sWBbJwKKXdS6BptQFuZbT73o/gBh1qUxl/nNr12UO8Yfwr6wPLb+6NIwLz3/Y=',
            'MIICvzCCAkWgAwIBAgIRALaFjYtiFjdI+UJzjKmJgE4wCgYIKoZIzj0EAwMwSTELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkFtYXpvbjEMMAoGA1UECwwDQVdTMRswGQYDVQQDDBJhd3Mubml0cm8tZW5jbGF2ZXMwHhcNMjUwNDIxMTUzMjU1WhcNMjUwNTExMTYzMjU1WjBkMQswCQYDVQQGEwJVUzEPMA0GA1UECgwGQW1hem9uMQwwCgYDVQQLDANBV1MxNjA0BgNVBAMMLTRlZDhhMmU2YmQzMzBlMzYudXMtZWFzdC0xLmF3cy5uaXRyby1lbmNsYXZlczB2MBAGByqGSM49AgEGBSuBBAAiA2IABPseCeA1FNx8+ScOChtgidzeVRLNeQLUF1iR48+zRV5VtnJOYQBGl1K0TcElpgxub7eVK/2pWMq0qWYmU4PNMXfPu8oD9SXIjsrP1/UmXRQlj0eYs0+iipqESE19kAlL7aOB1TCB0jASBgNVHRMBAf8ECDAGAQH/AgECMB8GA1UdIwQYMBaAFJAltQ3ZBUfnlsOW+nKdz5mp30uWMB0GA1UdDgQWBBRNo+lYOwYA+8ia1WTsamdrjDdneTAOBgNVHQ8BAf8EBAMCAYYwbAYDVR0fBGUwYzBhoF+gXYZbaHR0cDovL2F3cy1uaXRyby1lbmNsYXZlcy1jcmwuczMuYW1hem9uYXdzLmNvbS9jcmwvYWI0OTYwY2MtN2Q2My00MmJkLTllOWYtNTkzMzhjYjY3Zjg0LmNybDAKBggqhkjOPQQDAwNoADBlAjEAjKbvI7HXd4jsuUoB8dlPYUepUI1he0uOaVXq5m3fwUvSfSa7W5oM+PhSmjavNbd+AjB6TqJcS3EAOIk8TzhD5bXqfYG5CTo7IWC26/7I5KocqMbkKM9LMnv0dDgUmjGDOrU=',
            // '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'
        ].map((v) => (0, base64_1.decodeBase64)(v));
        await (0, vitest_1.expect)((0, nitro_verify_1.verifyNitroChain)(chain)).rejects.toThrow();
    });
    (0, vitest_1.it)('should create a correctly formatted COSE_Sign1 structure', () => {
        // Create sample inputs
        const protectedHeader = new TextEncoder().encode('test-header');
        const data = new TextEncoder().encode('test-data');
        // Call the function
        const result = (0, nitro_verify_1.createSignedBundle)({
            protectedHeader,
            data
        });
        // Decode the CBOR to verify the structure
        const decoded = (0, cbor_1.decodeCBOR)(result);
        // Verify the structure follows COSE_Sign1 format
        (0, vitest_1.expect)(decoded).toBeInstanceOf(Array);
        (0, vitest_1.expect)(decoded).toHaveLength(4);
        (0, vitest_1.expect)(decoded[0]).toBe('Signature1');
        (0, vitest_1.expect)(new Uint8Array(decoded[1])).toEqual(protectedHeader);
        (0, vitest_1.expect)(new Uint8Array(decoded[2])).toEqual(new Uint8Array(0));
        (0, vitest_1.expect)(new Uint8Array(decoded[3])).toEqual(data);
        // Verify the encoding directly
        const expectedEncoding = (0, cbor_1.encodeCBOR)([
            'Signature1',
            protectedHeader,
            new Uint8Array(0),
            data
        ]);
        (0, vitest_1.expect)(result).toEqual(expectedEncoding);
    });
    (0, vitest_1.it)('should handle empty data correctly', () => {
        const protectedHeader = new TextEncoder().encode('test-header');
        const data = new Uint8Array(0);
        const result = (0, nitro_verify_1.createSignedBundle)({
            protectedHeader,
            data
        });
        const decoded = (0, cbor_1.decodeCBOR)(result);
        (0, vitest_1.expect)(decoded[0]).toBe('Signature1');
        (0, vitest_1.expect)(new Uint8Array(decoded[1])).toEqual(protectedHeader);
        (0, vitest_1.expect)(new Uint8Array(decoded[2])).toEqual(new Uint8Array(0));
        (0, vitest_1.expect)(new Uint8Array(decoded[3])).toEqual(data);
    });
    (0, vitest_1.it)('should match COSE Sign1 structure format as defined in RFC 8152', () => {
        // According to RFC 8152, the COSE_Sign1 structure is:
        // COSE_Sign1 = [
        //   protected : bstr,
        //   unprotected : map,
        //   payload : bstr / nil,
        //   signature : bstr
        // ]
        // For the Sig_structure, it's:
        // Sig_structure = [
        //   context : "Signature1",
        //   body_protected : bstr,
        //   sign_protected : bstr,
        //   external_aad : bstr,
        //   payload : bstr
        // ]
        // Our function creates the Sig_structure with empty sign_protected (represented as Uint8Array(0))
        const protectedHeader = new TextEncoder().encode('test-protected');
        const data = new TextEncoder().encode('test-payload');
        const result = (0, nitro_verify_1.createSignedBundle)({
            protectedHeader,
            data
        });
        const decoded = (0, cbor_1.decodeCBOR)(result);
        (0, vitest_1.expect)(decoded[0]).toBe('Signature1'); // context
        (0, vitest_1.expect)(new Uint8Array(decoded[1])).toEqual(protectedHeader); // body_protected
        (0, vitest_1.expect)(new Uint8Array(decoded[2])).toEqual(new Uint8Array(0)); // sign_protected/external_aad
        (0, vitest_1.expect)(new Uint8Array(decoded[3])).toEqual(data); // payload
    });
    (0, vitest_1.it)('should match golden byte array for known inputs', () => {
        // Create deterministic inputs
        const protectedHeader = new Uint8Array([0xA1, 0x01, 0x26]); // Protected header: {1: -7} (ECDSA with SHA-384)
        const data = new TextEncoder().encode('test-payload');
        // Generate the signed bundle
        const result = (0, nitro_verify_1.createSignedBundle)({
            protectedHeader,
            data
        });
        // Golden byte array representation of the expected CBOR encoding
        // This is the CBOR encoding of:
        // [
        //   "Signature1",
        //   h'A10126' (Protected header),
        //   h'' (Empty external AAD),
        //   h'746573742D7061796C6F6164' ("test-payload")
        // ]
        const goldenBytes = new Uint8Array([
            0x84, // Array of 4 items
            0x6A, // Text string of length 10
            0x53, 0x69, 0x67, 0x6E, 0x61, 0x74, 0x75, 0x72, 0x65, 0x31, // "Signature1"
            0x43, // Byte string of length 3
            0xA1, 0x01, 0x26, // Protected header {1: -7}
            0x40, // Empty byte string
            0x4C, // Byte string of length 12
            0x74, 0x65, 0x73, 0x74, 0x2D, 0x70, 0x61, 0x79, 0x6C, 0x6F, 0x61, 0x64 // "test-payload"
        ]);
        // Compare against the golden byte array
        (0, vitest_1.expect)(result).toEqual(goldenBytes);
        // Just to be sure, decode both and compare the structures
        const resultDecoded = (0, cbor_1.decodeCBOR)(result);
        const goldenDecoded = (0, cbor_1.decodeCBOR)(goldenBytes);
        (0, vitest_1.expect)(resultDecoded).toEqual(goldenDecoded);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibml0cm9fdmVyaWZ5LnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJuaXRyb192ZXJpZnkuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUF5RTtBQUN6RSxpREFBc0U7QUFDdEUsaURBQW9EO0FBQ3BELGlDQUFnRDtBQUVoRCxJQUFBLGlCQUFRLEVBQUMsY0FBYyxFQUFFLEdBQUcsRUFBRTtJQUMxQixJQUFBLG1CQUFVLEVBQUMsR0FBRyxFQUFFO1FBQ1osV0FBRSxDQUFDLGFBQWEsRUFBRSxDQUFBO1FBQ2xCLFdBQUUsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDcEMsQ0FBQyxDQUFDLENBQUM7SUFDSCxJQUFBLGtCQUFTLEVBQUMsR0FBRyxFQUFFO1FBQ1gsV0FBRSxDQUFDLGFBQWEsRUFBRSxDQUFBO0lBQ3RCLENBQUMsQ0FBQyxDQUFDO0lBQ0gsSUFBQSxXQUFFLEVBQUMsbUNBQW1DLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFFL0MsTUFBTSxLQUFLLEdBQUc7WUFDViwwc0JBQTBzQjtZQUMxc0IsazdCQUFrN0I7WUFDbDdCLHNpQ0FBc2lDO1lBQ3RpQyxrN0JBQWs3QjtTQUNyN0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUEscUJBQVksRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTlCLE1BQU0sSUFBQSwrQkFBZ0IsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxDQUFDLENBQUMsQ0FBQztJQUVILElBQUEsV0FBRSxFQUFDLDhCQUE4QixFQUFFLEtBQUssSUFBSSxFQUFFO1FBRTFDLE1BQU0sS0FBSyxHQUFHO1lBQ1YsOHNCQUE4c0I7WUFDOXNCLGs3QkFBazdCO1lBQ2w3QixzaUNBQXNpQztZQUN0aUMsazdCQUFrN0I7U0FDcjdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFBLHFCQUFZLEVBQUMsQ0FBQyxDQUFDLENB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QkFBbUI7WUFDekIsSUFBSSxFQUFFLDJCQUEyQjtZQUNqQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsZUFBZTtZQUMzRSxJQUFJLEVBQUUsMEJBQTBCO1lBQ2hDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLDJCQUEyQjtZQUM3QyxJQUFJLEVBQUUsb0JBQW9CO1lBQzFCLElBQUksRUFBRSwyQkFBMkI7WUFDakMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsaUJBQWlCO1NBQzNGLENBQUMsQ0FBQztRQUVILHdDQUF3QztRQUN4QyxJQUFBLGVBQU0sRUFBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFcEMsMERBQTBEO1FBQzFELE1BQU0sYUFBYSxHQUFHLElBQUEsaUJBQVUsRUFBQyxNQUFNLENBQUMsQ0FBQztRQUN6QyxNQUFNLGFBQWEsR0FBRyxJQUFBLGlCQUFVLEVBQUMsV0FBVyxDQUFDLENBQUM7UUFDOUMsSUFBQSxlQUFNLEVBQUMsYUFBYSxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ2pELENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgdmksIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCB9IGZyb20gJ3ZpdGVzdCc7XG5pbXBvcnQgeyBjcmVhdGVTaWduZWRCdW5kbGUsIHZlcmlmeU5pdHJvQ2hhaW4gfSBmcm9tICcuL25pdHJvX3ZlcmlmeSc7XG5pbXBvcnQgeyBkZWNvZGVCYXNlNjQgfSBmcm9tICcuLi8uLi9mb3JtYXRzL2Jhc2U2NCc7XG5pbXBvcnQgeyBkZWNvZGVDQk9SLCBlbmNvZGVDQk9SIH0gZnJvbSAnLi9jYm9yJztcblxuZGVzY3JpYmUoJ25pdHJvX3ZlcmlmeScsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgdmkudXNlRmFrZVRpbWVycygpXG4gICAgICAgIHZpLnNldFN5c3RlbVRpbWUoMTc0NTU0MDA1MDAwMCk7XG4gICAgfSk7XG4gICAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICAgICAgdmkudXNlUmVhbFRpbWVycygpXG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgdGhlIG5pdHJvIHNpZ25hdHVyZScsIGFzeW5jICgpID0+IHtcblxuICAgICAgICBjb25zdCBjaGFpbiA9IFtcbiAgICAgICAgICAgICdNSUlDRVRDQ0FaYWdBd0lCQWdJUkFQa3hkV2dia0svaEhVYk10T1RuK0ZZd0NnWUlLb1pJemowRUF3TXdTVEVMTUFrR0ExVUVCaE1DVlZNeER6QU5CZ05WQkFvTUJrRnRZWHB2YmpFTU1Bb0dBMVVFQ3d3RFFWZFRNUnN3R1FZRFZRUUREQkpoZDNNdWJtbDBjbTh0Wlc1amJHRjJaWE13SGhjTk1Ua3hNREk0TVRNeU9EQTFXaGNOTkRreE1ESTRNVFF5T0RBMVdqQkpNUXN3Q1FZRFZRUUdFd0pWVXpFUE1BMEdBMVVFQ2d3R1FXMWhlbTl1TVF3d0NnWURWUVFMREFOQlYxTXhHekFaQmdOVkJBTU1FbUYzY3k1dWFYUnlieTFsYm1Oc1lYWmxjekIyTUJBR0J5cUdTTTQ5QWdFR0JTdUJCQUFpQTJJQUJQd0NWT3VtQ01IemFIRGltdHFRdmtZNE1wSnpib2xMLy9aeTJZbEVTMUJSNVRTa3NmYmI0OEM4V0JveXQ3RjJCdzdlRXRhYVArb2hHMmJuVXM5OTBkMEpYMjhUY1BRWENFUFozQkFCSWVUUFl3RW9DV1pFaDhsNVlvUXdUY1UvOUtOQ01FQXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVrQ1cxRGRrRlIrZVd3NWI2Y3AzUG1hbmZTNVl3RGdZRFZSMFBBUUgvQkFRREFnR0dNQW9HQ0NxR1NNNDlCQU1EQTJrQU1HWUNNUUNqZnkrUm9jbTlYdWU0WW53V21OSlZBNDRmQTBQNVcyT3BZb3c5T1lDVlJhRWV2TDh1TzFYWXJ1NXh0TVBXcmZNQ01RQ2k4NXNXQmJKd0tLWGRTNkJwdFFGdVpiVDczby9nQmgxcVV4bC9uTnIxMlVPOFlmd3I2d1BMYis2Tkl3THozL1k9JyxcbiAgICAgICAgICAgICdNSUlDdnpDQ0FrV2dBd0lCQWdJUkFMYUZqWXRpRmpkSStVSnpqS21KZ0U0d0NnWUlLb1pJemowRUF3TXdTVEVMTUFrR0ExVUVCaE1DVlZNeER6QU5CZ05WQkFvTUJrRnRZWHB2YmpFTU1Bb0dBMVVFQ3d3RFFWZFRNUnN3R1FZRFZRUUREQkpoZDNNdWJtbDBjbTh0Wlc1amJHRjJaWE13SGhjTk1qVXdOREl4TVRVek1qVTFXaGNOTWpVd05URXhNVFl6TWpVMVdqQmtNUXN3Q1FZRFZRUUdFd0pWVXpFUE1BMEdBMVVFQ2d3R1FXMWhlbTl1TVF3d0NnWURWUVFMREFOQlYxTXhOakEwQmdOVkJBTU1MVFJsWkRoaE1tVTJZbVF6TXpCbE16WXVkWE10WldGemRDMHhMbUYzY3k1dWFYUnlieTFsYm1Oc1lYWmxjekIyTUJBR0J5cUdTTTQ5QWdFR0JTdUJCQUFpQTJJQUJQc2VDZUExRk54OCtTY09DaHRnaWR6ZVZSTE5lUUxVRjFpUjQ4K3pSVjVWdG5KT1lRQkdsMUswVGNFbHBneHViN2VWSy8ycFdNcTBxV1ltVTRQTk1YZlB1OG9EOVNYSWpzclAxL1VtWFJRbGowZVlzMCtpaXBxRVNFMTlrQWxMN2FPQjFUQ0IwakFTQmdOVkhSTUJBZjhFQ0RBR0FRSC9BZ0VDTUI4R0ExVWRJd1FZTUJhQUZKQWx0UTNaQlVmbmxzT1crbktkejVtcDMwdVdNQjBHQTFVZERnUVdCQlJObytsWU93WUErOGlhMVdUc2FtZHJqRGRuZVRBT0JnTlZIUThCQWY4RUJBTUNBWVl3YkFZRFZSMGZCR1V3WXpCaG9GK2dYWVpiYUhSMGNEb3ZMMkYzY3kxdWFYUnlieTFsYm1Oc1lYWmxjeTFqY213dWN6TXVZVzFoZW05dVlYZHpMbU52YlM5amNtd3ZZV0kwT1RZd1kyTXROMlEyTXkwME1tSmtMVGxsT1dZdE5Ua3pNemhqWWpZM1pqZzBMbU55YkRBS0JnZ3Foa2pPUFFRREF3Tm9BREJsQWpFQWpLYnZJN0hYZDRqc3VVb0I4ZGxQWVVlcFVJMWhlMHVPYVZYcTVtM2Z3VXZTZlNhN1c1b00rUGhTbWphdk5iZCtBakI2VHFKY1MzRUFPSWs4VHpoRDViWHFmWUc1Q1RvN0lXQzI2LzdJNUtvY3FNYmtLTTlMTW52MGREZ1VtakdET3JVPScsXG4gICAgICAgICAgICAnTUlJREZUQ0NBcHVnQXdJQkFnSVJBUDZHWFBDTnJKV0tjTmJyVis3MzdFUXdDZ1lJS29aSXpqMEVBd013WkRFTE1Ba0dBMVVFQmhNQ1ZWTXhEekFOQmdOVkJBb01Ca0Z0WVhwdmJqRU1NQW9HQTFVRUN3d0RRVmRUTVRZd05BWURWUVFEREMwMFpXUTRZVEpsTm1Ka016TXdaVE0yTG5WekxXVmhjM1F0TVM1aGQzTXVibWwwY204dFpXNWpiR0YyWlhNd0hoY05NalV3TkRJME1ETTBNREl6V2hjTk1qVXdORE13TURRME1ESXpXakNCaVRFOE1Eb0dBMVVFQXd3ek1qUTFOams1WTJFME9UY3pORGd5T1M1NmIyNWhiQzUxY3kxbFlYTjBMVEV1WVhkekxtNXBkSEp2TFdWdVkyeGhkbVZ6TVF3d0NnWURWUVFMREFOQlYxTXhEekFOQmdOVkJBb01Ca0Z0WVhwdmJqRUxNQWtHQTFVRUJoTUNWVk14Q3pBSkJnTlZCQWdNQWxkQk1SQXdEZ1lEVlFRSERBZFRaV0YwZEd4bE1IWXdFQVlIS29aSXpqMENBUVlGSzRFRUFDSURZZ0FFaTN2MVZycXBHOWozeG9KUnprVEREZFhCL3lmTDIyN1A4cEhJYzl0ZWhSWE1NQnh4b0gxWTd3VVVaQi9vNnl6aDBaeFc1dytXUE85emhqR2UwWHA1VzdYRHhGK3ZuY0U0TXlQZFJJTkNta0tYa0ptWDlJUDBYNmJNblBjM1hEaHJvNEhxTUlIbk1CSUdBMVVkRXdFQi93UUlNQVlCQWY4Q0FRRXdId1lEVlIwakJCZ3dGb0FVVGFQcFdEc0dBUHZJbXRWazdHcG5hNHczWjNrd0hRWURWUjBPQkJZRUZKZi9YT3g1SU9Xa0pEcERXSXVaTzZobTRvU1pNQTRHQTFVZER3RUIvd1FFQXdJQmhqQ0JnQVlEVlIwZkJIa3dkekIxb0hPZ2NZWnZhSFIwY0RvdkwyTnliQzExY3kxbFlYTjBMVEV0WVhkekxXNXBkSEp2TFdWdVkyeGhkbVZ6TG5NekxuVnpMV1ZoYzNRdE1TNWhiV0Y2YjI1aGQzTXVZMjl0TDJOeWJDODJNVFUyTVdZeFlpMHpOV0k0TFRSak16QXRZakZqT1Mxa1lqUTBaRFV3TVdVMU1HRXVZM0pzTUFvR0NDcUdTTTQ5QkFNREEyZ0FNR1VDTUFnSFJBQ3U0NExrcGovM1JML1FzM040OUlLTklxVXU5RVZPRmFKcE9MSy9zRDRTdVBSSnY0MkpoRTNmbS9FNkNRSXhBTk1YdlhvWGZ6NzZ2UFo1SGIyd1laMVdkN3dOb1hKL1BrQk93YjRCZExSV3U4TUFmbE1qWXVPOW9rekUvVk5SRGc9PScsXG4gICAgICAgICAgICAnTUlJQ3Z6Q0NBa1dnQXdJQkFnSVZBT3B5NEN4MlB1Ym1hWWQrMVlaYkdTRFpkczBJTUFvR0NDcUdTTTQ5QkFNRE1JR0pNVHd3T2dZRFZRUURERE15TkRVMk9UbGpZVFE1TnpNME9ESTVMbnB2Ym1Gc0xuVnpMV1ZoYzNRdE1TNWhkM011Ym1sMGNtOHRaVzVqYkdGMlpYTXhEREFLQmdOVkJBc01BMEZYVXpFUE1BMEdBMVVFQ2d3R1FXMWhlbTl1TVFzd0NRWURWUVFHRXdKVlV6RUxNQWtHQTFVRUNBd0NWMEV4RURBT0JnTlZCQWNNQjFObFlYUjBiR1V3SGhjTk1qVXdOREkwTVRBek9UVTFXaGNOTWpVd05ESTFNVEF6T1RVMVdqQ0JqakVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnTUNsZGhjMmhwYm1kMGIyNHhFREFPQmdOVkJBY01CMU5sWVhSMGJHVXhEekFOQmdOVkJBb01Ca0Z0WVhwdmJqRU1NQW9HQTFVRUN3d0RRVmRUTVRrd053WURWUVFERERCcExUQTRPRFUxWW1ZNFltVXpObUl6T1RobExuVnpMV1ZoYzNRdE1TNWhkM011Ym1sMGNtOHRaVzVqYkdGMlpYTXdkakFRQmdjcWhrak9QUUlCQmdVcmdRUUFJZ05pQUFTWkVTNlduYlhJUUx4cCtvaUNxVWtjcEE2YUgyR21TZVVHL1dMTjBNdHhtUjEvNjNrNlM2QldqRUkyMkxYZEg1NnhjR0dTS2RFdit1VmwxL2FaUndRZk1VdDRxanhEVmY5M3d2ZnZCeHlKTWZzZEovZEhUNUZ4anhZbVFjbzNOZ3VqWmpCa01CSUdBMVVkRXdFQi93UUlNQVlCQWY4Q0FRQXdEZ1lEVlIwUEFRSC9CQVFEQWdJRU1CMEdBMVVkRGdRV0JCUmdybER2Ym1QeHF2Tnp2Y0pib2oram9mVkJCREFmQmdOVkhTTUVHREFXZ0JTWC8xenNlU0RscENRNlExaUxtVHVvWnVLRW1UQUtCZ2dxaGtqT1BRUURBd05vQURCbEFqRUF2bUcxcXhWY1haMEVrMGFVaUhDUzBwU3ozVTh3ZC9CeWlmRFVWWVBHZ2tsMzlEZGF2b050dENVOWFaN3g2NElQQWpCdmhSdUVURjY1bUgxayswTFFiQ21zZ0k3K21CbTRia3ozTWl1R2JocHhsdnc5NXV3L2ZrVlgzc3BEVTFMdXhxQT0nXG4gICAgICAgIF0ubWFwKCh2KSA9PiBkZWNvZGVCYXNlNjQodikpO1xuXG4gICAgICAgIGF3YWl0IHZlcmlmeU5pdHJvQ2hhaW4oY2hhaW4pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjcmFzaCBvbiBpbnZhbGlkIHJvb3QnLCBhc3luYyAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgY2hhaW4gPSBbXG4gICAgICAgICAgICAvLyAnTUlJQ0VUQ0NBWmFnQXdJQkFnSVJBUGt4ZFdnYmtLL2hIVWJNdE9UbitGWXdDZ1lJS29aSXpqMEVBd013U1RFTE1Ba0dBMVVFQmhNQ1ZWTXhEekFOQmdOVkJBb01Ca0Z0WVhwdmJqRU1NQW9HQTFVRUN3d0RRVmRUTVJzd0dRWURWUVFEREJKaGQzTXVibWwwY204dFpXNWpiR0YyWlhNd0hoY05NVGt4TURJNE1UTXlPREExV2hjTk5Ea3hNREk0TVRReU9EQTFXakJKTVFzd0NRWURWUVFHRXdKVlV6RVBNQTBHQTFVRUNnd0dRVzFoZW05dU1Rd3dDZ1lEVlFRTERBTkJWMU14R3pBWkJnTlZCQU1NRW1GM2N5NXVhWFJ5YnkxbGJtTnNZWFpsY3pCMk1CQUdCeXFHU000OUFnRUdCU3VCQkFBaUEySUFCUHdDVk91bUNNSHphSERpbXRxUXZrWTRNcEp6Ym9sTC8vWnkyWWxFUzFCUjVUU2tzZmJiNDhDOFdCb3l0N0YyQnc3ZUV0YWFQK29oRzJiblVzOTkwZDBKWDI4VGNQUVhDRVBaM0JBQkllVFBZd0VvQ1daRWg4bDVZb1F3VGNVLzlLTkNNRUF3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVa0NXMURka0ZSK2VXdzViNmNwM1BtYW5mUzVZd0RnWURWUjBQQVFIL0JBUURBZ0dHTUFvR0NDcUdTTTQ5QkFNREEya0FNR1lDTVFDamZ5K1JvY205WHVlNFlud1dtTkpWQTQ0ZkEwUDVXMk9wWW93OU9ZQ1ZSYUVldkw4dU8xWFlydTV4dE1QV3JmTUNNUUNpODVzV0JiSndLS1hkUzZCcHRRRnVaYlQ3M28vZ0JoMXFVeGwvbk5yMTJVTzhZZndyNndQTGIrNk5Jd0x6My9ZPScsXG4gICAgICAgICAgICAnTUlJQ3Z6Q0NBa1dnQXdJQkFnSVJBTGFGall0aUZqZEkrVUp6akttSmdFNHdDZ1lJS29aSXpqMEVBd013U1RFTE1Ba0dBMVVFQmhNQ1ZWTXhEekFOQmdOVkJBb01Ca0Z0WVhwdmJqRU1NQW9HQTFVRUN3d0RRVmRUTVJzd0dRWURWUVFEREJKaGQzTXVibWwwY204dFpXNWpiR0YyWlhNd0hoY05NalV3TkRJeE1UVXpNalUxV2hjTk1qVXdOVEV4TVRZek1qVTFXakJrTVFzd0NRWURWUVFHRXdKVlV6RVBNQTBHQTFVRUNnd0dRVzFoZW05dU1Rd3dDZ1lEVlFRTERBTkJWMU14TmpBMEJnTlZCQU1NTFRSbFpEaGhNbVUyWW1Rek16QmxNell1ZFhNdFpXRnpkQzB4TG1GM2N5NXVhWFJ5YnkxbGJtTnNZWFpsY3pCMk1CQUdCeXFHU000OUFnRUdCU3VCQkFBaUEySUFCUHNlQ2VBMUZOeDgrU2NPQ2h0Z2lkemVWUkxOZVFMVUYxaVI0OCt6UlY1VnRuSk9ZUUJHbDFLMFRjRWxwZ3h1YjdlVksvMnBXTXEwcVdZbVU0UE5NWGZQdThvRDlTWElqc3JQMS9VbVhSUWxqMGVZczAraWlwcUVTRTE5a0FsTDdhT0IxVENCMGpBU0JnTlZIUk1CQWY4RUNEQUdBUUgvQWdFQ01COEdBMVVkSXdRWU1CYUFGSkFsdFEzWkJVZm5sc09XK25LZHo1bXAzMHVXTUIwR0ExVWREZ1FXQkJSTm8rbFlPd1lBKzhpYTFXVHNhbWRyakRkbmVUQU9CZ05WSFE4QkFmOEVCQU1DQVlZd2JBWURWUjBmQkdVd1l6QmhvRitnWFlaYmFIUjBjRG92TDJGM2N5MXVhWFJ5YnkxbGJtTnNZWFpsY3kxamNtd3Vjek11WVcxaGVtOXVZWGR6TG1OdmJTOWpjbXd2WVdJME9UWXdZMk10TjJRMk15MDBNbUprTFRsbE9XWXROVGt6TXpoallqWTNaamcwTG1OeWJEQUtCZ2dxaGtqT1BRUURBd05vQURCbEFqRUFqS2J2STdIWGQ0anN1VW9COGRsUFlVZXBVSTFoZTB1T2FWWHE1bTNmd1V2U2ZTYTdXNW9NK1BoU21qYXZOYmQrQWpCNlRxSmNTM0VBT0lrOFR6aEQ1YlhxZllHNUNUbzdJV0MyNi83STVLb2NxTWJrS005TE1udjBkRGdVbWpHRE9yVT0nLFxuICAgICAgICAgICAgJ01JSURGVENDQXB1Z0F3SUJBZ0lSQVA2R1hQQ05ySldLY05iclYrNzM3RVF3Q2dZSUtvWkl6ajBFQXdNd1pERUxNQWtHQTFVRUJoTUNWVk14RHpBTkJnTlZCQW9NQmtGdFlYcHZiakVNTUFvR0ExVUVDd3dEUVZkVE1UWXdOQVlEVlFRRERDMDBaV1E0WVRKbE5tSmtNek13WlRNMkxuVnpMV1ZoYzNRdE1TNWhkM011Ym1sMGNtOHRaVzVqYkdGMlpYTXdIaGNOTWpVd05ESTBNRE0wTURJeldoY05NalV3TkRNd01EUTBNREl6V2pDQmlURThNRG9HQTFVRUF3d3pNalExTmprNVkyRTBPVGN6TkRneU9TNTZiMjVoYkM1MWN5MWxZWE4wTFRFdVlYZHpMbTVwZEhKdkxXVnVZMnhoZG1Wek1Rd3dDZ1lEVlFRTERBTkJWMU14RHpBTkJnTlZCQW9NQmtGdFlYcHZiakVMTUFrR0ExVUVCaE1DVlZNeEN6QUpCZ05WQkFnTUFsZEJNUkF3RGdZRFZRUUhEQWRUWldGMGRHeGxNSFl3RUFZSEtvWkl6ajBDQVFZRks0RUVBQ0lEWWdBRWkzdjFWcnFwRzlqM3hvSlJ6a1RERGRYQi95ZkwyMjdQOHBISWM5dGVoUlhNTUJ4eG9IMVk3d1VVWkIvbzZ5emgwWnhXNXcrV1BPOXpoakdlMFhwNVc3WER4Rit2bmNFNE15UGRSSU5DbWtLWGtKbVg5SVAwWDZiTW5QYzNYRGhybzRIcU1JSG5NQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUV3SHdZRFZSMGpCQmd3Rm9BVVRhUHBXRHNHQVB2SW10Vms3R3BuYTR3M1oza3dIUVlEVlIwT0JCWUVGSmYvWE94NUlPV2tKRHBEV0l1Wk82aG00b1NaTUE0R0ExVWREd0VCL3dRRUF3SUJoakNCZ0FZRFZSMGZCSGt3ZHpCMW9IT2djWVp2YUhSMGNEb3ZMMk55YkMxMWN5MWxZWE4wTFRFdFlYZHpMVzVwZEhKdkxXVnVZMnhoZG1WekxuTXpMblZ6TFdWaGMzUXRNUzVoYldGNmIyNWhkM011WTI5dEwyTnliQzgyTVRVMk1XWXhZaTB6TldJNExUUmpNekF0WWpGak9TMWtZalEwWkRVd01XVTFNR0V1WTNKc01Bb0dDQ3FHU000OUJBTURBMmdBTUdVQ01BZ0hSQUN1NDRMa3BqLzNSTC9RczNONDlJS05JcVV1OUVWT0ZhSnBPTEsvc0Q0U3VQUkp2NDJKaEUzZm0vRTZDUUl4QU5NWHZYb1hmejc2dlBaNUhiMndZWjFXZDd3Tm9YSi9Qa0JPd2I0QmRMUld1OE1BZmxNall1Tzlva3pFL1ZOUkRnPT0nLFxuICAgICAgICAgICAgJ01JSUN2ekNDQWtXZ0F3SUJBZ0lWQU9weTRDeDJQdWJtYVlkKzFZWmJHU0RaZHMwSU1Bb0dDQ3FHU000OUJBTURNSUdKTVR3d09nWURWUVFERERNeU5EVTJPVGxqWVRRNU56TTBPREk1TG5wdmJtRnNMblZ6TFdWaGMzUXRNUzVoZDNNdWJtbDBjbTh0Wlc1amJHRjJaWE14RERBS0JnTlZCQXNNQTBGWFV6RVBNQTBHQTFVRUNnd0dRVzFoZW05dU1Rc3dDUVlEVlFRR0V3SlZVekVMTUFrR0ExVUVDQXdDVjBFeEVEQU9CZ05WQkFjTUIxTmxZWFIwYkdVd0hoY05NalV3TkRJME1UQXpPVFUxV2hjTk1qVXdOREkxTVRBek9UVTFXakNCampFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ01DbGRoYzJocGJtZDBiMjR4RURBT0JnTlZCQWNNQjFObFlYUjBiR1V4RHpBTkJnTlZCQW9NQmtGdFlYcHZiakVNTUFvR0ExVUVDd3dEUVZkVE1Ua3dOd1lEVlFRREREQnBMVEE0T0RVMVltWTRZbVV6Tm1Jek9UaGxMblZ6TFdWaGMzUXRNUzVoZDNNdWJtbDBjbTh0Wlc1amJHRjJaWE13ZGpBUUJnY3Foa2pPUFFJQkJnVXJnUVFBSWdOaUFBU1pFUzZXbmJYSVFMeHArb2lDcVVrY3BBNmFIMkdtU2VVRy9XTE4wTXR4bVIxLzYzazZTNkJXakVJMjJMWGRINTZ4Y0dHU0tkRXYrdVZsMS9hWlJ3UWZNVXQ0cWp4RFZmOTN3dmZ2Qnh5Sk1mc2RKL2RIVDVGeGp4WW1RY28zTmd1alpqQmtNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUF3RGdZRFZSMFBBUUgvQkFRREFnSUVNQjBHQTFVZERnUVdCQlJncmxEdmJtUHhxdk56dmNKYm9qK2pvZlZCQkRBZkJnTlZIU01FR0RBV2dCU1gvMXpzZVNEbHBDUTZRMWlMbVR1b1p1S0VtVEFLQmdncWhrak9QUVFEQXdOb0FEQmxBakVBdm1HMXF4VmNYWjBFazBhVWlIQ1MwcFN6M1U4d2QvQnlpZkRVVllQR2drbDM5RGRhdm9OdHRDVTlhWjd4NjRJUEFqQnZoUnVFVEY2NW1IMWsrMExRYkNtc2dJNyttQm00Ymt6M01pdUdiaHB4bHZ3OTV1dy9ma1ZYM3NwRFUxTHV4cUE9J1xuICAgICAgICBdLm1hcCgodikgPT4gZGVjb2RlQmFzZTY0KHYpKTtcblxuICAgICAgICBhd2FpdCBleHBlY3QodmVyaWZ5Tml0cm9DaGFpbihjaGFpbikpLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgY3Jhc2ggb24gaW52YWxpZCBjaGFpbicsIGFzeW5jICgpID0+IHtcblxuICAgICAgICBjb25zdCBjaGFpbiA9IFtcbiAgICAgICAgICAgICdNSUlDRVRDQ0FaYWdBd0lCQWdJUkFQa3hkV2dia0svaEhVYk10T1RuK0ZZd0NnWUlLb1pJemowRUF3TXdTVEVMTUFrR0ExVUVCaE1DVlZNeER6QU5CZ05WQkFvTUJrRnRZWHB2YmpFTU1Bb0dBMVVFQ3d3RFFWZFRNUnN3R1FZRFZRUUREQkpoZDNNdWJtbDBjbTh0Wlc1amJHRjJaWE13SGhjTk1Ua3hNREk0TVRNeU9EQTFXaGNOTkRreE1ESTRNVFF5T0RBMVdqQkpNUXN3Q1FZRFZRUUdFd0pWVXpFUE1BMEdBMVVFQ2d3R1FXMWhlbTl1TVF3d0NnWURWUVFMREFOQlYxTXhHekFaQmdOVkJBTU1FbUYzY3k1dWFYUnlieTFsYm1Oc1lYWmxjekIyTUJBR0J5cUdTTTQ5QWdFR0JTdUJCQUFpQTJJQUJQd0NWT3VtQ01IemFIRGltdHFRdmtZNE1wSnpib2xMLy9aeTJZbEVTMUJSNVRTa3NmYmI0OEM4V0JveXQ3RjJCdzdlRXRhYVArb2hHMmJuVXM5OTBkMEpYMjhUY1BRWENFUFozQkFCSWVUUFl3RW9DV1pFaDhsNVlvUXdUY1UvOUtOQ01FQXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVrQ1cxRGRrRlIrZVd3NWI2Y3AzUG1hbmZTNVl3RGdZRFZSMFBBUUgvQkFRREFnR0dNQW9HQ0NxR1NNNDlCQU1EQTJrQU1HWUNNUUNqZnkrUm9jbTlYdWU0WW53V21OSlZBNDRmQTBQNVcyT3BZb3c5T1lDVlJhRWV2TDh1TzFYWXJ1NXh0TVBXcmZNQ01RQ2k4NXNXQmJKd0tLWGRTNkJwdFFGdVpiVDczby9nQmgxcVV4bC9uTnIxMlVPOFlmd3I2d1BMYis2Tkl3THozL1k9JyxcbiAgICAgICAgICAgICdNSUlDdnpDQ0FrV2dBd0lCQWdJUkFMYUZqWXRpRmpkSStVSnpqS21KZ0U0d0NnWUlLb1pJemowRUF3TXdTVEVMTUFrR0ExVUVCaE1DVlZNeER6QU5CZ05WQkFvTUJrRnRZWHB2YmpFTU1Bb0dBMVVFQ3d3RFFWZFRNUnN3R1FZRFZRUUREQkpoZDNNdWJtbDBjbTh0Wlc1amJHRjJaWE13SGhjTk1qVXdOREl4TVRVek1qVTFXaGNOTWpVd05URXhNVFl6TWpVMVdqQmtNUXN3Q1FZRFZRUUdFd0pWVXpFUE1BMEdBMVVFQ2d3R1FXMWhlbTl1TVF3d0NnWURWUVFMREFOQlYxTXhOakEwQmdOVkJBTU1MVFJsWkRoaE1tVTJZbVF6TXpCbE16WXVkWE10WldGemRDMHhMbUYzY3k1dWFYUnlieTFsYm1Oc1lYWmxjekIyTUJBR0J5cUdTTTQ5QWdFR0JTdUJCQUFpQTJJQUJQc2VDZUExRk54OCtTY09DaHRnaWR6ZVZSTE5lUUxVRjFpUjQ4K3pSVjVWdG5KT1lRQkdsMUswVGNFbHBneHViN2VWSy8ycFdNcTBxV1ltVTRQTk1YZlB1OG9EOVNYSWpzclAxL1VtWFJRbGowZVlzMCtpaXBxRVNFMTlrQWxMN2FPQjFUQ0IwakFTQmdOVkhSTUJBZjhFQ0RBR0FRSC9BZ0VDTUI4R0ExVWRJd1FZTUJhQUZKQWx0UTNaQlVmbmxzT1crbktkejVtcDMwdVdNQjBHQTFVZERnUVdCQlJObytsWU93WUErOGlhMVdUc2FtZHJqRGRuZVRBT0JnTlZIUThCQWY4RUJBTUNBWVl3YkFZRFZSMGZCR1V3WXpCaG9GK2dYWVpiYUhSMGNEb3ZMMkYzY3kxdWFYUnlieTFsYm1Oc1lYWmxjeTFqY213dWN6TXVZVzFoZW05dVlYZHpMbU52YlM5amNtd3ZZV0kwT1RZd1kyTXROMlEyTXkwME1tSmtMVGxsT1dZdE5Ua3pNemhqWWpZM1pqZzBMbU55YkRBS0JnZ3Foa2pPUFFRREF3Tm9BREJsQWpFQWpLYnZJN0hYZDRqc3VVb0I4ZGxQWVVlcFVJMWhlMHVPYVZYcTVtM2Z3VXZTZlNhN1c1b00rUGhTbWphdk5iZCtBakI2VHFKY1MzRUFPSWs4VHpoRDViWHFmWUc1Q1RvN0lXQzI2LzdJNUtvY3FNYmtLTTlMTW52MGREZ1VtakdET3JVPScsXG4gICAgICAgICAgICAvLyAnTUlJREZUQ0NBcHVnQXdJQkFnSVJBUDZHWFBDTnJKV0tjTmJyVis3MzdFUXdDZ1lJS29aSXpqMEVBd013WkRFTE1Ba0dBMVVFQmhNQ1ZWTXhEekFOQmdOVkJBb01Ca0Z0WVhwdmJqRU1NQW9HQTFVRUN3d0RRVmRUTVRZd05BWURWUVFEREMwMFpXUTRZVEpsTm1Ka016TXdaVE0yTG5WekxXVmhjM1F0TVM1aGQzTXVibWwwY204dFpXNWpiR0YyWlhNd0hoY05NalV3TkRJME1ETTBNREl6V2hjTk1qVXdORE13TURRME1ESXpXakNCaVRFOE1Eb0dBMVVFQXd3ek1qUTFOams1WTJFME9UY3pORGd5T1M1NmIyNWhiQzUxY3kxbFlYTjBMVEV1WVhkekxtNXBkSEp2TFdWdVkyeGhkbVZ6TVF3d0NnWURWUVFMREFOQlYxTXhEekFOQmdOVkJBb01Ca0Z0WVhwdmJqRUxNQWtHQTFVRUJoTUNWVk14Q3pBSkJnTlZCQWdNQWxkQk1SQXdEZ1lEVlFRSERBZFRaV0YwZEd4bE1IWXdFQVlIS29aSXpqMENBUVlGSzRFRUFDSURZZ0FFaTN2MVZycXBHOWozeG9KUnprVEREZFhCL3lmTDIyN1A4cEhJYzl0ZWhSWE1NQnh4b0gxWTd3VVVaQi9vNnl6aDBaeFc1dytXUE85emhqR2UwWHA1VzdYRHhGK3ZuY0U0TXlQZFJJTkNta0tYa0ptWDlJUDBYNmJNblBjM1hEaHJvNEhxTUlIbk1CSUdBMVVkRXdFQi93UUlNQVlCQWY4Q0FRRXdId1lEVlIwakJCZ3dGb0FVVGFQcFdEc0dBUHZJbXRWazdHcG5hNHczWjNrd0hRWURWUjBPQkJZRUZKZi9YT3g1SU9Xa0pEcERXSXVaTzZobTRvU1pNQTRHQTFVZER3RUIvd1FFQXdJQmhqQ0JnQVlEVlIwZkJIa3dkekIxb0hPZ2NZWnZhSFIwY0RvdkwyTnliQzExY3kxbFlYTjBMVEV0WVhkekxXNXBkSEp2TFdWdVkyeGhkbVZ6TG5NekxuVnpMV1ZoYzNRdE1TNWhiV0Y2YjI1aGQzTXVZMjl0TDJOeWJDODJNVFUyTVdZeFlpMHpOV0k0TFRSak16QXRZakZqT1Mxa1lqUTBaRFV3TVdVMU1HRXVZM0pzTUFvR0NDcUdTTTQ5QkFNREEyZ0FNR1VDTUFnSFJBQ3U0NExrcGovM1JML1FzM040OUlLTklxVXU5RVZPRmFKcE9MSy9zRDRTdVBSSnY0MkpoRTNmbS9FNkNRSXhBTk1YdlhvWGZ6NzZ2UFo1SGIyd1laMVdkN3dOb1hKL1BrQk93YjRCZExSV3U4TUFmbE1qWXVPOW9rekUvVk5SRGc9PScsXG4gICAgICAgICAgICAnTUlJQ3Z6Q0NBa1dnQXdJQkFnSVZBT3B5NEN4MlB1Ym1hWWQrMVlaYkdTRFpkczBJTUFvR0NDcUdTTTQ5QkFNRE1JR0pNVHd3T2dZRFZRUURERE15TkRVMk9UbGpZVFE1TnpNME9ESTVMbnB2Ym1Gc0xuVnpMV1ZoYzNRdE1TNWhkM011Ym1sMGNtOHRaVzVqYkdGMlpYTXhEREFLQmdOVkJBc01BMEZYVXpFUE1BMEdBMVVFQ2d3R1FXMWhlbTl1TVFzd0NRWURWUVFHRXdKVlV6RUxNQWtHQTFVRUNBd0NWMEV4RURBT0JnTlZCQWNNQjFObFlYUjBiR1V3SGhjTk1qVXdOREkwTVRBek9UVTFXaGNOTWpVd05ESTFNVEF6T1RVMVdqQ0JqakVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnTUNsZGhjMmhwYm1kMGIyNHhFREFPQmdOVkJBY01CMU5sWVhSMGJHVXhEekFOQmdOVkJBb01Ca0Z0WVhwdmJqRU1NQW9HQTFVRUN3d0RRVmRUTVRrd053WURWUVFERERCcExUQTRPRFUxWW1ZNFltVXpObUl6T1RobExuVnpMV1ZoYzNRdE1TNWhkM011Ym1sMGNtOHRaVzVqYkdGMlpYTXdkakFRQmdjcWhrak9QUUlCQmdVcmdRUUFJZ05pQUFTWkVTNlduYlhJUUx4cCtvaUNxVWtjcEE2YUgyR21TZVVHL1dMTjBNdHhtUjEvNjNrNlM2QldqRUkyMkxYZEg1NnhjR0dTS2RFdit1VmwxL2FaUndRZk1VdDRxanhEVmY5M3d2ZnZCeHlKTWZzZEovZEhUNUZ4anhZbVFjbzNOZ3VqWmpCa01CSUdBMVVkRXdFQi93UUlNQVlCQWY4Q0FRQXdEZ1lEVlIwUEFRSC9CQVFEQWdJRU1CMEdBMVVkRGdRV0JCUmdybER2Ym1QeHF2Tnp2Y0pib2oram9mVkJCREFmQmdOVkhTTUVHREFXZ0JTWC8xenNlU0RscENRNlExaUxtVHVvWnVLRW1UQUtCZ2dxaGtqT1BRUURBd05vQURCbEFqRUF2bUcxcXhWY1haMEVrMGFVaUhDUzBwU3ozVTh3ZC9CeWlmRFVWWVBHZ2tsMzlEZGF2b050dENVOWFaN3g2NElQQWpCdmhSdUVURjY1bUgxayswTFFiQ21zZ0k3K21CbTRia3ozTWl1R2JocHhsdnc5NXV3L2ZrVlgzc3BEVTFMdXhxQT0nXG4gICAgICAgIF0ubWFwKCh2KSA9PiBkZWNvZGVCYXNlNjQodikpO1xuXG4gICAgICAgIGF3YWl0IGV4cGVjdCh2ZXJpZnlOaXRyb0NoYWluKGNoYWluKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBjb3JyZWN0bHkgZm9ybWF0dGVkIENPU0VfU2lnbjEgc3RydWN0dXJlJywgKCkgPT4ge1xuICAgICAgICAvLyBDcmVhdGUgc2FtcGxlIGlucHV0c1xuICAgICAgICBjb25zdCBwcm90ZWN0ZWRIZWFkZXIgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoJ3Rlc3QtaGVhZGVyJyk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoJ3Rlc3QtZGF0YScpO1xuXG4gICAgICAgIC8vIENhbGwgdGhlIGZ1bmN0aW9uXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZVNpZ25lZEJ1bmRsZSh7XG4gICAgICAgICAgICBwcm90ZWN0ZWRIZWFkZXIsXG4gICAgICAgICAgICBkYXRhXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERlY29kZSB0aGUgQ0JPUiB0byB2ZXJpZnkgdGhlIHN0cnVjdHVyZVxuICAgICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlQ0JPUihyZXN1bHQpO1xuXG4gICAgICAgIC8vIFZlcmlmeSB0aGUgc3RydWN0dXJlIGZvbGxvd3MgQ09TRV9TaWduMSBmb3JtYXRcbiAgICAgICAgZXhwZWN0KGRlY29kZWQpLnRvQmVJbnN0YW5jZU9mKEFycmF5KTtcbiAgICAgICAgZXhwZWN0KGRlY29kZWQpLnRvSGF2ZUxlbmd0aCg0KTtcbiAgICAgICAgZXhwZWN0KGRlY29kZWRbMF0pLnRvQmUoJ1NpZ25hdHVyZTEnKTtcbiAgICAgICAgZXhwZWN0KG5ldyBVaW50OEFycmF5KGRlY29kZWRbMV0pKS50b0VxdWFsKHByb3RlY3RlZEhlYWRlcik7XG4gICAgICAgIGV4cGVjdChuZXcgVWludDhBcnJheShkZWNvZGVkWzJdKSkudG9FcXVhbChuZXcgVWludDhBcnJheSgwKSk7XG4gICAgICAgIGV4cGVjdChuZXcgVWludDhBcnJheShkZWNvZGVkWzNdKSkudG9FcXVhbChkYXRhKTtcblxuICAgICAgICAvLyBWZXJpZnkgdGhlIGVuY29kaW5nIGRpcmVjdGx5XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkRW5jb2RpbmcgPSBlbmNvZGVDQk9SKFtcbiAgICAgICAgICAgICdTaWduYXR1cmUxJyxcbiAgICAgICAgICAgIHByb3RlY3RlZEhlYWRlcixcbiAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KDApLFxuICAgICAgICAgICAgZGF0YVxuICAgICAgICBdKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChleHBlY3RlZEVuY29kaW5nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IGRhdGEgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm90ZWN0ZWRIZWFkZXIgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoJ3Rlc3QtaGVhZGVyJyk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGVTaWduZWRCdW5kbGUoe1xuICAgICAgICAgICAgcHJvdGVjdGVkSGVhZGVyLFxuICAgICAgICAgICAgZGF0YVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlQ0JPUihyZXN1bHQpO1xuICAgICAgICBleHBlY3QoZGVjb2RlZFswXSkudG9CZSgnU2lnbmF0dXJlMScpO1xuICAgICAgICBleHBlY3QobmV3IFVpbnQ4QXJyYXkoZGVjb2RlZFsxXSkpLnRvRXF1YWwocHJvdGVjdGVkSGVhZGVyKTtcbiAgICAgICAgZXhwZWN0KG5ldyBVaW50OEFycmF5KGRlY29kZWRbMl0pKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KDApKTtcbiAgICAgICAgZXhwZWN0KG5ldyBVaW50OEFycmF5KGRlY29kZWRbM10pKS50b0VxdWFsKGRhdGEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYXRjaCBDT1NFIFNpZ24xIHN0cnVjdHVyZSBmb3JtYXQgYXMgZGVmaW5lZCBpbiBSRkMgODE1MicsICgpID0+IHtcbiAgICAgICAgLy8gQWNjb3JkaW5nIHRvIFJGQyA4MTUyLCB0aGUgQ09TRV9TaWduMSBzdHJ1Y3R1cmUgaXM6XG4gICAgICAgIC8vIENPU0VfU2lnbjEgPSBbXG4gICAgICAgIC8vICAgcHJvdGVjdGVkIDogYnN0cixcbiAgICAgICAgLy8gICB1bnByb3RlY3RlZCA6IG1hcCxcbiAgICAgICAgLy8gICBwYXlsb2FkIDogYnN0ciAvIG5pbCxcbiAgICAgICAgLy8gICBzaWduYXR1cmUgOiBic3RyXG4gICAgICAgIC8vIF1cblxuICAgICAgICAvLyBGb3IgdGhlIFNpZ19zdHJ1Y3R1cmUsIGl0J3M6XG4gICAgICAgIC8vIFNpZ19zdHJ1Y3R1cmUgPSBbXG4gICAgICAgIC8vICAgY29udGV4dCA6IFwiU2lnbmF0dXJlMVwiLFxuICAgICAgICAvLyAgIGJvZHlfcHJvdGVjdGVkIDogYnN0cixcbiAgICAgICAgLy8gICBzaWduX3Byb3RlY3RlZCA6IGJzdHIsXG4gICAgICAgIC8vICAgZXh0ZXJuYWxfYWFkIDogYnN0cixcbiAgICAgICAgLy8gICBwYXlsb2FkIDogYnN0clxuICAgICAgICAvLyBdXG5cbiAgICAgICAgLy8gT3VyIGZ1bmN0aW9uIGNyZWF0ZXMgdGhlIFNpZ19zdHJ1Y3R1cmUgd2l0aCBlbXB0eSBzaWduX3Byb3RlY3RlZCAocmVwcmVzZW50ZWQgYXMgVWludDhBcnJheSgwKSlcblxuICAgICAgICBjb25zdCBwcm90ZWN0ZWRIZWFkZXIgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoJ3Rlc3QtcHJvdGVjdGVkJyk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoJ3Rlc3QtcGF5bG9hZCcpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZVNpZ25lZEJ1bmRsZSh7XG4gICAgICAgICAgICBwcm90ZWN0ZWRIZWFkZXIsXG4gICAgICAgICAgICBkYXRhXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVDQk9SKHJlc3VsdCk7XG5cbiAgICAgICAgZXhwZWN0KGRlY29kZWRbMF0pLnRvQmUoJ1NpZ25hdHVyZTEnKTsgLy8gY29udGV4dFxuICAgICAgICBleHBlY3QobmV3IFVpbnQ4QXJyYXkoZGVjb2RlZFsxXSkpLnRvRXF1YWwocHJvdGVjdGVkSGVhZGVyKTsgLy8gYm9keV9wcm90ZWN0ZWRcbiAgICAgICAgZXhwZWN0KG5ldyBVaW50OEFycmF5KGRlY29kZWRbMl0pKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KDApKTsgLy8gc2lnbl9wcm90ZWN0ZWQvZXh0ZXJuYWxfYWFkXG4gICAgICAgIGV4cGVjdChuZXcgVWludDhBcnJheShkZWNvZGVkWzNdKSkudG9FcXVhbChkYXRhKTsgLy8gcGF5bG9hZFxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYXRjaCBnb2xkZW4gYnl0ZSBhcnJheSBmb3Iga25vd24gaW5wdXRzJywgKCkgPT4ge1xuICAgICAgICAvLyBDcmVhdGUgZGV0ZXJtaW5pc3RpYyBpbnB1dHNcbiAgICAgICAgY29uc3QgcHJvdGVjdGVkSGVhZGVyID0gbmV3IFVpbnQ4QXJyYXkoWzB4QTEsIDB4MDEsIDB4MjZdKTsgLy8gUHJvdGVjdGVkIGhlYWRlcjogezE6IC03fSAoRUNEU0Egd2l0aCBTSEEtMzg0KVxuICAgICAgICBjb25zdCBkYXRhID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKCd0ZXN0LXBheWxvYWQnKTtcblxuICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgc2lnbmVkIGJ1bmRsZVxuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGVTaWduZWRCdW5kbGUoe1xuICAgICAgICAgICAgcHJvdGVjdGVkSGVhZGVyLFxuICAgICAgICAgICAgZGF0YVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBHb2xkZW4gYnl0ZSBhcnJheSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXhwZWN0ZWQgQ0JPUiBlbmNvZGluZ1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBDQk9SIGVuY29kaW5nIG9mOlxuICAgICAgICAvLyBbXG4gICAgICAgIC8vICAgXCJTaWduYXR1cmUxXCIsXG4gICAgICAgIC8vICAgaCdBMTAxMjYnIChQcm90ZWN0ZWQgaGVhZGVyKSxcbiAgICAgICAgLy8gICBoJycgKEVtcHR5IGV4dGVybmFsIEFBRCksXG4gICAgICAgIC8vICAgaCc3NDY1NzM3NDJENzA2MTc5NkM2RjYxNjQnIChcInRlc3QtcGF5bG9hZFwiKVxuICAgICAgICAvLyBdXG4gICAgICAgIGNvbnN0IGdvbGRlbkJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHg4NCwgLy8gQXJyYXkgb2YgNCBpdGVtc1xuICAgICAgICAgICAgMHg2QSwgLy8gVGV4dCBzdHJpbmcgb2YgbGVuZ3RoIDEwXG4gICAgICAgICAgICAweDUzLCAweDY5LCAweDY3LCAweDZFLCAweDYxLCAweDc0LCAweDc1LCAweDcyLCAweDY1LCAweDMxLCAvLyBcIlNpZ25hdHVyZTFcIlxuICAgICAgICAgICAgMHg0MywgLy8gQnl0ZSBzdHJpbmcgb2YgbGVuZ3RoIDNcbiAgICAgICAgICAgIDB4QTEsIDB4MDEsIDB4MjYsIC8vIFByb3RlY3RlZCBoZWFkZXIgezE6IC03fVxuICAgICAgICAgICAgMHg0MCwgLy8gRW1wdHkgYnl0ZSBzdHJpbmdcbiAgICAgICAgICAgIDB4NEMsIC8vIEJ5dGUgc3RyaW5nIG9mIGxlbmd0aCAxMlxuICAgICAgICAgICAgMHg3NCwgMHg2NSwgMHg3MywgMHg3NCwgMHgyRCwgMHg3MCwgMHg2MSwgMHg3OSwgMHg2QywgMHg2RiwgMHg2MSwgMHg2NCAvLyBcInRlc3QtcGF5bG9hZFwiXG4gICAgICAgIF0pO1xuXG4gICAgICAgIC8vIENvbXBhcmUgYWdhaW5zdCB0aGUgZ29sZGVuIGJ5dGUgYXJyYXlcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChnb2xkZW5CeXRlcyk7XG5cbiAgICAgICAgLy8gSnVzdCB0byBiZSBzdXJlLCBkZWNvZGUgYm90aCBhbmQgY29tcGFyZSB0aGUgc3RydWN0dXJlc1xuICAgICAgICBjb25zdCByZXN1bHREZWNvZGVkID0gZGVjb2RlQ0JPUihyZXN1bHQpO1xuICAgICAgICBjb25zdCBnb2xkZW5EZWNvZGVkID0gZGVjb2RlQ0JPUihnb2xkZW5CeXRlcyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHREZWNvZGVkKS50b0VxdWFsKGdvbGRlbkRlY29kZWQpO1xuICAgIH0pO1xufSk7Il19